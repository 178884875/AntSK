@namespace AntSK.Pages.Setting.AIModel
@page "/setting/modeldown"
@using AntSK.Services.Auth
@inherits AuthComponentBase
@using Microsoft.AspNetCore.Authorization
@using AntSK.Domain.Model.hfmirror
@attribute [Authorize(Roles = "AntSKAdmin")]


<PageContainer Title="模型列表">
    <Content>
        <div style="text-align: center;">
            <Search Placeholder="输入回车"
                    EnterButton="@("搜索")"
                    Size="large"
                    Style="max-width: 522px; width: 100%;"
                    OnSearch="Search" />
        </div>
    </Content>
    <ChildContent>
        <div class="filterCardList">
            <AntList TItem="HfModels"
                     Grid="LayoutModel._listGridType"
                     DataSource="_modelList">
                <ListItem NoFlex>
                    <Card Hoverable
                           BodyStyle="padding-bottom: 20px;"
                           Actions="Actions">
                         <CardMeta>
                             <TitleTemplate>
                                 @context.Id
                            </TitleTemplate>
                            <AvatarTemplate>
                                <Avatar Size="small" Src="@context.AuthorData.AvatarUrl" />
                            </AvatarTemplate>
                        </CardMeta>
                        <div class="cardItemContent">
                            <div class="cardInfo">
                                <div>
                                    <p>Downloads</p>
                                    <p>@context.Downloads.ToString("0,0")</p>
                                </div>
                                <div>
                                    <p>Likes</p>
                                    <p>@context.Likes.ToString("0,0")</p>
                                </div>
                            </div>
                        </div>
                    </Card>
                </ListItem>
            </AntList>
        </div>
    </ChildContent>
</PageContainer>
@code
{
    private static readonly RenderFragment Download =@<AntDesign.Tooltip Title="@("下载")">
        <Icon Type="download" Theme="outline" />
    </AntDesign.Tooltip>;

    private static readonly IList<RenderFragment> Actions = new List<RenderFragment>
{
        Download
    };
}

